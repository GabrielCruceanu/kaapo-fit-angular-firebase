<app-layout>
  <div class="container my-4">
    <h3>Adauga detaliile fizice</h3>
    <form class="row justify-content-center">
      <div class="col-md-4">
        <div class="select-picture-box">
          <h4>Imagine din fata</h4>

          <ng-container
            *ngIf="
              !(
                clientProfile.currentPhysicalDetails?.clientGalleryFront &&
                clientProfile.currentPhysicalDetails?.clientGalleryFront
                  .downloadURL
              );
              else clientGalleryFrontPicture
            "
          >
            <button
              mat-fab
              color="primary"
              aria-label="Icon button with a image icon"
              (click)="onUploadFrontPicture()"
            >
              <mat-icon>add_a_photo</mat-icon>
            </button>
          </ng-container>

          <ng-template #clientGalleryFrontPicture>
            <img
              [src]="
                clientProfile.currentPhysicalDetails?.clientGalleryFront
                  .downloadURL
                  ? clientProfile.currentPhysicalDetails?.clientGalleryFront
                      .downloadURL
                  : ''
              "
              alt="client gallery front picture"
            />
            <button
              mat-fab
              color="primary"
              aria-label="Icon button with a image icon"
              (click)="onUploadFrontPicture()"
            >
              <mat-icon>edit</mat-icon>
            </button>
          </ng-template>
        </div>
      </div>

      <div class="col-md-4">
        <div class="select-picture-box">
          <h4>Imagine dintr-o parte</h4>
          <ng-container
            *ngIf="
              !(
                clientProfile.currentPhysicalDetails?.clientGallerySide &&
                clientProfile.currentPhysicalDetails?.clientGallerySide
                  .downloadURL
              );
              else clientGallerySidePicture
            "
          >
            <button
              mat-fab
              color="primary"
              aria-label="Icon button with a image icon"
              (click)="onUploadSidePicture()"
            >
              <mat-icon>add_a_photo</mat-icon>
            </button>
          </ng-container>
          <ng-template #clientGallerySidePicture>
            <img
              [src]="
                clientProfile.currentPhysicalDetails?.clientGallerySide
                  .downloadURL
                  ? clientProfile.currentPhysicalDetails?.clientGallerySide
                      .downloadURL
                  : ''
              "
              alt="client gallery front picture"
            />
            <button
              mat-fab
              color="primary"
              aria-label="Icon button with a image icon"
              (click)="onUploadSidePicture()"
            >
              <mat-icon>edit</mat-icon>
            </button>
          </ng-template>
        </div>
      </div>

      <div class="col-md-4">
        <div class="select-picture-box">
          <h4>Imagine din spate</h4>

          <ng-container
            *ngIf="
              !(
                clientProfile.currentPhysicalDetails?.clientGalleryBack &&
                clientProfile.currentPhysicalDetails?.clientGalleryBack
                  .downloadURL
              );
              else clientGalleryBackPicture
            "
          >
            <button
              mat-fab
              color="primary"
              aria-label="Icon button with a image icon"
              (click)="onUploadBackPicture()"
            >
              <mat-icon>add_a_photo</mat-icon>
            </button>
          </ng-container>
          <ng-template #clientGalleryBackPicture>
            <img
              [src]="
                clientProfile.currentPhysicalDetails?.clientGalleryBack
                  .downloadURL
                  ? clientProfile.currentPhysicalDetails?.clientGalleryBack
                      .downloadURL
                  : ''
              "
              alt="client gallery back picture"
            />
            <button
              mat-fab
              color="primary"
              aria-label="Icon button with a image icon"
              (click)="onUploadBackPicture()"
            >
              <mat-icon>edit</mat-icon>
            </button>
          </ng-template>
        </div>
      </div>

      <div class="col-12">
        <!--   Details     -->
        <div class="row" [formGroup]="addMeasurementsFormGroup">
          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Greutate</mat-label>
              <input matInput name="weight" formControlName="weight" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['weight'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['weight'].hasError(
                    'pattern'
                  )
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Cap</mat-label>
              <input matInput name="head" formControlName="head" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['head'].hasError('required')
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['head'].hasError('pattern')
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Umeri</mat-label>
              <input matInput name="shoulders" formControlName="shoulders" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['shoulders'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['shoulders'].hasError(
                    'pattern'
                  )
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Piept</mat-label>
              <input matInput name="chest" formControlName="chest" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['chest'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['chest'].hasError('pattern')
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Biceps stang</mat-label>
              <input matInput name="armLeft" formControlName="armLeft" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['armLeft'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['armLeft'].hasError(
                    'pattern'
                  )
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Biceps drept</mat-label>
              <input matInput name="armRight" formControlName="armRight" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['armRight'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['armRight'].hasError(
                    'pattern'
                  )
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Talie</mat-label>
              <input matInput name="waist" formControlName="waist" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['waist'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['waist'].hasError('pattern')
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Sold inalt</mat-label>
              <input matInput name="highHip" formControlName="highHip" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['highHip'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['highHip'].hasError(
                    'pattern'
                  )
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Sold</mat-label>
              <input matInput name="hip" formControlName="hip" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['hip'].hasError('required')
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['hip'].hasError('pattern')
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>

          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>De la sold la genunchi</mat-label>
              <input
                matInput
                name="waistToKnee"
                formControlName="waistToKnee"
              />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['waistToKnee'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['waistToKnee'].hasError(
                    'pattern'
                  )
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Genunchi</mat-label>
              <input matInput name="knee" formControlName="knee" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['knee'].hasError('required')
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['knee'].hasError('pattern')
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-6 col-md-4 col-lg-2">
            <mat-form-field appearance="outline">
              <mat-label>Glezne</mat-label>
              <input matInput name="ankle" formControlName="ankle" />
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['ankle'].hasError(
                    'required'
                  )
                "
              >
                Acest camp este <strong>obligatoriu</strong>
              </mat-error>
              <mat-error
                *ngIf="
                  addMeasurementsFormGroup.controls['ankle'].hasError('pattern')
                "
              >
                Foloseste doar cifre
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="form-footer col-12 mt-3">
        <mat-error *ngIf="errorMessage$ | async as errorMessage">
          {{ errorMessage }}
        </mat-error>
        <button
          mat-raised-button
          color="primary"
          [class.disabled]="!addMeasurementsFormGroup.valid"
          (click)="onAddMeasurements($event)"
        >
          Salveaza
        </button>
      </div>
    </form>
  </div>
</app-layout>
